# ch5 책임 할당하기
 어떤 객체에게 어떤 책임을 할당할지 결정하기 쉽지 않다.
 책임 할당의 어려움에 답을 제시할 GRASP 를 살펴본다.

### 01 책임 주도 설계를 향해
  - 데이터보다 행동을 먼저 결정하라
    - 객체에게 중요한 것: 외부에 제공하는 행동
    - 행동: 객체가 수행해야할 책임
    - 적절한 책임이 부여되었는지는 협력으로 판단할 수 있다.
  - 협력이라는 문맥 안에서 책임을 결정하라
    - 협력의 주체는 메세지 전송자이다.
    - 수신자로부터 책임을 찾기 힘들다.
    - 메세지는 클라이언트의 의도를 표현한다.
  - 책임 주도 설계
    - 책임을 결정하고
    - 책임을 수행할 객체를 결정하고
    - 책임이 정리될 때까지 내부 상태에 관심을 가지지 않는 것이다.

### 02 책임 할당을 위한 GRASP 패턴
  - 도메인 개념에서 출발하기
    - 설계를 시작하는 단계: 개념의 의미와 관계가 완벽하지 않아도 된다.
  - 정보 전문가에게 책임을 할당하라
    - 먼저 메시지를 결정하면,
    - 메시지를 수신할 적합한 객체를 찾는다.
    - 적합하다는 것은 수신한 메시지를 스스로 처리할 수 있다는 것을 의미한다.
    - 책임을 수행하는데 필요한 정보를 가지고 있는 객체를 찾는 원칙을 정보 전문가라 한다.
  - 높은 응집도와 낮은 결합도
    - 여러가지 대안이 있을때 선택의 기준이 되는 척도.
  - 창조자에게 객체 생성 책임을 할당하라
    - 객체를 생성하는 주체를 찾는 기준.
    - 해당 객체를 포함하거나 참조하는 대상
    - 해당 객체를 기록하는 대상
    - 해당 객체를 긴밀하게 사용하는 대상
    - 해당 객체를 생성하는데 필요한 데이터를 가지고 있는 대상

### 03 구현을 통한 검증
  - DiscountCondition 개선하기
  - 타입 분리하기
  - 다형성을 통해 분리하기
  - 변경으로부터 보호하기
  - Movie 클래스 개선하기
  - 변경과 유연성

### 04 책임 주도 설계의 대안
리팩토링
  - 메서드 응집도
    - 메서드로 작게 분해해서 각 메서드의 응집도를 높힌다.
    - 작고 응집도 높은 메서드는 적절한 클래스로 이동하기 더 수월하다.
  - 객체를 자율적으로 만들자
    - 처음부터 책임 주도 설계 방법을 따르지 않았더라도 리팩토링을 통해서도 좋은 결과를 얻을 수 있다.
